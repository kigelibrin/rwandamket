

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Rwandamket - Quick and reliable grocery, meal, and essentials delivery in Rwanda.">
<meta name="keywords" content="Rwanda, delivery, groceries, meals, chefs, Simba Rebero, KFC">
<meta name="author" content="Kigeli Brin">
<title>Rwandamket - Your Food & Grocery Delivery in Rwanda</title>
<style>

.product-container {
  /* Basic style for the "white space" */
  background-color: #fff;
  padding: 15px; /* Default padding when open */
  transition: max-height 0.5s ease-out, padding 0.5s ease-out; /* Makes the reveal smooth */
}

.hidden-products {
  /* This is the key to hiding it while allowing a smooth reveal */
  max-height: 0;
  padding-top: 0;
  padding-bottom: 0;
  overflow: hidden; /* Ensures no content leaks out */
}



.visible-products {
  /* A large height value ensures all your content (product table) fits */
  max-height: 1000px;
  /* The padding will transition back to 15px */
}

.rotated {
  /* Rotates the arrow icon when the content is open */
  transform: rotate(180deg);
}




/* Add this to your existing CSS file */
.market-card img {
  /* Enforce a fixed width and height */
  width: 140px;
  height: 140px;
  
  /* Use 'object-fit: cover' to ensure the image covers the 
     50x50 area without being distorted. */
  object-fit: cover;
  
  /* Makes the image corners slightly rounded, which is professional */
  border-radius: 15px; 
  
  /* Adds space between the image and the text */
  margin-right: 15px; 
}
.card-header {
  display: flex; /* Makes the image and the title align horizontally */
  align-items: center; /* Vertically centers the image and text */
  padding: 10px; 
  background-color: #f9f9f9;
  margin-bottom: 1rem;
    border: 3px solid #4CAF50; /* Optional: green border like header */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  cursor: pointer;
}



.card img {
    width: 150px;
    height: 150px;
    object-fit: cover;
    margin-bottom: 1rem;
    border: 3px solid #4CAF50; /* Optional: green border like header */
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
/* Reset & base styles */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background: #f9f9f9; }

/* Header */
header { background: #4CAF50; color: white; padding: 1.5rem 2rem; text-align: center; }
header h1 { font-size: 2.2rem; }
header p { margin-top: 0.5rem; font-size: 1.1rem; }

/* Navigation */
nav { display: flex; justify-content: center; gap: 1.5rem; background: #333; padding: 1rem; position: sticky; top: 0; z-index: 1000; }
nav a { color: white; text-decoration: none; font-weight: bold; padding: 0.5rem 1rem; border-radius: 30px; transition: all 0.3s ease; }
nav a:hover { background: linear-gradient(135deg, #4CAF50, #45a049); transform: scale(1.05); box-shadow: 0 4px 15px rgba(72, 239, 128, 0.5); }

/* Hero Section */
.hero { position: relative; background: url('https://images.unsplash.com/photo-1589308078059-be1415eab4c4?auto=format&fit=crop&w=1600&q=80') no-repeat center/cover; color: white; padding: 6rem 2rem; text-align: center; overflow: hidden; }
.hero::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1; }
.hero h1, .hero p { position: relative; z-index: 2; animation: fadeInUp 1s ease forwards; }
.hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
.hero p { font-size: 1.5rem; margin-bottom: 2rem; }

/* Buttons */
.btn { background: linear-gradient(135deg, #4CAF50, #45a049); color: white; padding: 0.9rem 1.8rem; border: none; border-radius: 50px; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
.btn:hover { background: linear-gradient(135deg, #45a049, #3e8e41); transform: scale(1.08); box-shadow: 0 6px 20px rgba(72, 239, 128, 0.6); }

/* Section Titles */
h1.section-title { text-align: center; font-size: 2.2rem; margin: 2rem 0 1rem; color: #333; position: relative; }
h1.section-title::after { content: ""; display: block; width: 80px; height: 4px; background: #4CAF50; margin: 0.5rem auto 0; border-radius: 2px; }

/* Containers & Cards */
.container { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; padding: 3rem 5%; }
.card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 6px 15px rgba(0,0,0,0.1); text-align: center; transition: all 0.3s ease; opacity: 0; transform: translateY(50px); }
.card img { width: 100%; border-radius: 10px; margin-bottom: 1rem; transition: transform 0.3s ease; }
.card img:hover { transform: scale(1.05); }
.card h2 a { color: #4CAF50; text-decoration: none; font-size: 1.5rem; transition: color 0.3s ease; }
.card h2 a:hover { color: #2e7d32; }
.card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }

/* Forms */
form { position: relative; max-width: 600px; margin: 3rem auto; background: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80') no-repeat center/cover; padding: 2rem; border-radius: 10px; box-shadow: 0 6px 15px rgba(0,0,0,0.1); color: white; overflow: hidden; }
form::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); border-radius: 10px; z-index: 1; }
form fieldset, form label, form input, form textarea { position: relative; z-index: 2; width: 100%; }
form input, form textarea { padding: 0.8rem; margin-bottom: 1rem; border: none; border-radius: 6px; outline: none; }
form textarea { resize: none; }
.btn-send { display: block; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; padding: 0.9rem 1.8rem; border: none; border-radius: 50px; cursor: pointer; font-size: 1.1rem; font-weight: bold; transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(0,0,0,0.2); margin-top: 10px; text-align: center; }
.btn-send:hover { background: linear-gradient(135deg, #45a049, #3e8e41); transform: scale(1.05); }

/* Footer */
footer { background: linear-gradient(135deg, #333, #111); color: white; padding: 2rem 1rem; margin-top: 3rem; text-align: center; }
footer h3 { font-size: 1.8rem; margin-bottom: 0.5rem; color: #4CAF50; }
footer p { margin-bottom: 1.2rem; }
footer .socials { list-style: none; padding: 0; margin: 0; }
footer .socials li { margin: 0.5rem 0; }
footer .socials a { color: #ddd; text-decoration: none; transition: all 0.3s ease; }
footer .socials a:hover { color: #4CAF50; transform: scale(1.05); }
.footer-bottom { margin-top: 1.5rem; border-top: 1px solid #444; padding-top: 1rem; font-size: 0.9rem; color: #bbb; }

/* Animations */
@keyframes fadeInUp { 0% { opacity: 0; transform: translateY(50px);} 100% { opacity: 1; transform: translateY(0);} }

/* Get Started Dropdown */
.get-started-container { position: relative; display: inline-block; z-index: 3; }
#getStartedBtn { padding: 12px 25px; background: #4CAF50; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; transition: 0.3s; }
#getStartedBtn:hover { background: #45a049; }

 /* same hover as nav */
    color: white;
    transform: scale(1.05);
}

/* Dropdown menu */
.dropdown-menu {
    position: absolute;
    top: 50px;
    left: 0;
    background: white;
    width: 180px;
    border-radius: 6px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    display: none; /* hidden initially */
    flex-direction: column;
    z-index: 999;
}
.dropdown-menu a {
    display: block;
    padding: 12px;
    text-decoration: none;
    color: #4CAF50;
    font-weight: 500;
    border-bottom: 1px solid #eee;
}
.dropdown-menu a:last-child { border-bottom: none; }
.dropdown-menu a:hover { background: #4CAF50; color: white; }

/* Scroll to Top Button */
#scrollTopBtn {
    display: none;
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 999;
    font-size: 24px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 50%;
    padding: 12px 16px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
}
#scrollTopBtn:hover { background: #45a049; transform: scale(1.1); }

/* Fade Animation */
@keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>

<header id="home">
    <h1>WELCOME TO RWANDAMKET</h1>
    <p>Your trusted partner for groceries, meals, and essentials delivery across Rwanda.</p>
</header>

<section class="hero">
    <h1>Welcome to Rwandamket ‚Äî Your Convenient Marketplace</h1>
    <p>Fast delivery of groceries, meals, and essentials anywhere in Rwanda.</p>


    <!-- Get Started Button with dropdown -->
    <div class="get-started-container">
      <button id="getStartedBtn">GET STARTED</button>
      <div id="dropdownMenu" class="dropdown-menu">
        <a href="#home">Home</a>
        <a href="#order">Order</a>
        <a href="#about">About Us</a>
        <a href="#contact">Contact Us</a>
        <a href="#partners">Partners</a>
      </div>
    </div>
</section>

<h1 class="section-title" id="about">ABOUT US</h1>
<section class="container">
    <div class="card" style="grid-column: 1 / -1;">
        <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1600&q=80" alt="About Us">
        <h2>Our Story</h2>
        <p>Rwandamket is your go-to service for quick and reliable delivery of groceries, meals, and essentials. We partner with the best local providers to bring convenience to your doorstep.</p>
    </div>
</section>

<h1 class="section-title" id="order">CHOOSE A MARKET OF YOUR CHOICE!</h1>
<section class="container">
<div class="markets-container">

  <!-- MARKET CARD TEMPLATE -->
  
   <div class="market-card">
  
  <div class="card-header">
    <img src="https://images.pexels.com/photos/34818757/pexels-photo-34818757.jpeg" alt="Home Decor">
    <h2 class="market-title market-toggle">
    <a class="market-link " marketIdentifier="RWANDAMKET Home Decor">RWANDAMKET Home Decor</a>
    <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for Home Decor...</p>
    </div>
  </div>

    <div class="market-card">
      <div class="card-header">
    <img src="https://www.brides.com/thmb/VWQUatbUA7KtCp5GnaiSVbwlFPY=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/recirc-nigerian-engagement-ceremony-wedding-los-angeles-couple-portrait-janna-brown-1224-1faeae53f5934f919d2251d3a377cd2a.jpg" alt="Events">
    <h2 class="market-title"><a class="market-link market-toggle" marketIdentifier="RWANDAMKET Events Management">RWANDAMKET Events Management</a>
    <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading services for Events management...</p>
    </div>
  </div>
  
  <div class="market-card">
   <div class="card-header">
    <img src="https://images.unsplash.com/photo-1615870216519-2f9fa575fa5c?auto=format&fit=crop&w=1200&q=80" alt="Gikondo">
    <h2 class="market-title"><a class="market-link market-toggle" marketIdentifier="RWANDAMKET Gikondo">RWANDAMKET Gikondo</a>
    <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for Rwandamket Gikondo...</p>
    </div>
  </div>

  <div class="market-card">
    <div class="card-header">
    <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=600&q=80" alt="Merez">
    <h2 class="market-title"><a class="market-link market-toggle" data-market-identifier="RWANDAMKET MEREZ">RWANDAMKET MEREZ</a>
    <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for Rwandamket Merez...</p>
    </div>
  </div>
  
  <div class="market-card"> 
  <div class="card-header">
    <img src="https://images.pexels.com/photos/12118980/pexels-photo-12118980.jpeg" alt="KFC">
    <h2 class="market-title"><a class="market-link market-toggle" data-market-identifier="KFC">KFC</a>
     <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for KFC...</p>
    </div>
  </div>
  

  <div class="market-card"> 
  <div class="card-header">
    <img src="https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=600&q=80" alt="Chefs">
    <h2 class="market-title"><a class="market-link market-toggle" data-market-identifier="RWANDAMKET Chefs">RWANDAMKET Chefs</a>
     <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading Chefs for handling your meals...</p>
    </div>
  </div>
  
  <div class="market-card">
  <div class="card-header">
    <img src="https://images.pexels.com/photos/616401/pexels-photo-616401.jpeg" alt="Kicukiro">
    <h2 class="market-title"><a class="market-link market-toggle" data-market-identifier="RWANDAMKET KICUKIRO">RWANDAMKET KICUKIRO</a>
     <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for Rwandamket Kicukiro...</p>
    </div>
  </div>
  
  <div class="market-card">
  <div class="card-header">
    <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=600&q=80" alt="Kimihurura">
    <h2 class="market-title">
      <a class="market-link market-toggle" data-market-identifier="RWANDAMKET KIMIHURURA">RWANDAMKET KIMIHURURA</a>
    <span class="toggle-icon">‚ñº</span>
    </h2>
    </div>
    <div class="product-container market-content hidden-products">
    <p>Loading products for Rwandamket Kimihurura...</p>
    </div>
  </div>
</div>
</section>

<h1 class="section-title" id="partners">OUR TEAM & PARTNERS</h1>
<section class="container">
    <div class="card">
        <img src="partner-kigeli.jpg" alt="Founder Photo">
        <h2>Kigeli Brin</h2>
        <p><b>Founder & CEO</b> ‚Äî Visionary behind Rwandamket, dedicated to making food and grocery delivery faster and easier in Rwanda.</p>
    </div>
    <div class="card">
        <img src="partner-tonny.jpg" alt="Partner Photo">
        <h2>Umutoni Queen Desange</h2>
        <p><b>Head of Operations</b> ‚Äî Ensuring seamless delivery and quality service to every customer.</p>
    </div>
    <div class="card">
        <img src="partner-layli.jpg" alt="Partner Photo">
        <h2>Uwicyeza Layli</h2>
        <p><b>Chief Marketing Officer</b> ‚Äî Driving the vision of Rwandamket to reach more customers and build lasting relationships.</p>
    </div>
</section>


<h1 class="section-title" id="contact">CONTACT US</h1>
<section class="container">
    <div class="card" style="grid-column: 1 / -1;">
        <h2>Get in Touch</h2>
        <p>We‚Äôd love to hear from you! Whether it‚Äôs a question about orders, a suggestion, or feedback ‚Äî our team at Rwandamket is here to help.</p>
        <form action="#" method="POST">
            <fieldset>
                <label>Name:</label>
                <input type="text" name="name" placeholder="Your name..." required>
                <label>Email:</label>
                <input type="email" name="email" placeholder="Your email..." required>
                <label>Feedback:</label>
                <textarea name="feedback" rows="4" placeholder="Your feedback..." required></textarea>
                <button type="submit" class="btn-send">Send</button>
            </fieldset>
        </form>
    </div>
</section>

<footer>
    <div class="footer-content">
        <h3>Rwandamket</h3>
        <p>Quick, reliable delivery of groceries, meals, and essentials ‚Äî anytime, anywhere in Rwanda.</p>
        <ul class="socials">
            <li><a href="#">üìû +250 786 979 388</a></li>
            <li><a href="#">üìß support@rwandamket.com</a></li>
            <li><a href="#">üìç Kigali, Rwanda</a></li>
        </ul>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 Rwandamket | All Rights Reserved</p>
    </div>
</footer>
<!-- Scroll to top button -->
<button id="scrollTopBtn" title="Go to top">‚Üë</button>

<script>
// Fade-in cards on scroll
const cards = document.querySelectorAll('.card');
const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
        if(entry.isIntersecting){
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
            entry.target.style.transition = 'all 0.8s ease-out';
            observer.unobserve(entry.target);
        }
    });
}, { threshold: 0.2 });

cards.forEach(card => observer.observe(card));

// Get Started dropdown
document.getElementById("getStartedBtn").addEventListener("click", function(event) {
    event.stopPropagation();
    const menu = document.getElementById("dropdownMenu");
    menu.style.display = menu.style.display === "flex" ? "none" : "flex";
});

// Close dropdown when clicking outside
document.addEventListener("click", function(event) {
    const menu = document.getElementById("dropdownMenu");
    if (!menu.contains(event.target)) {
        menu.style.display = "none";
    }
});

// Scroll to top button
const scrollBtn = document.getElementById("scrollTopBtn");

window.onscroll = function() {
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        scrollBtn.style.display = "block";
    } else {
        scrollBtn.style.display = "none";
    }
};

scrollBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
// --- 1. SUPABASE CLIENT SETUP (FIXED) ---
// Note: Using the provided URLs/Keys directly as variables in the createClient function.
const SUPABASE_URL = 'https://sbthvusuujryxhmvmiai.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidGh2dXN1dWpyeXhobXZtaWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwMTAzOTgsImV4cCI6MjA4MDU4NjM5OH0.6cxPKY78RNZlaPs3hqEtYQ-9M9kyzYEAmDEvc2wjln8';

// CRITICAL FIX: Arguments must be strings (using the defined variables is cleanest)
const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);


// --- 2. DATA FETCHING FUNCTION (Product Table & Rendering Logic FIX) ---
async function fetchAndRenderProducts(marketIdentifier) {
    try {
        // FIX: Table name is 'Product'
        const { data: products, error } = await supabase
            .from('Product')
            .select('name, price, image_url')
            .eq('market', marketIdentifier);

        if (error) throw error;

        // Using 'products' for the iteration variable for clarity
        if (products.length === 0) {
            return `<p class="no-products">No products found for this market yet.</p>`;
        }

        // FIX: Corrected Table Header (<th>) to match data fields
        let tableHTML = `
            <table>
                <thead>
                    <tr>
                        <th>Product Name</th> 
                        <th>Price</th>
                        <th>Image</th>
                    </tr>
                </thead>
                <tbody>
        `;

        products.forEach(product => {
            // FIX: Corrected Table Data (<td>) to align with headers
            tableHTML += `
                <tr>
                    <td>${product.name}</td>
                    <td>$${product.price}</td>
                    <td><img src="${product.image_url}" alt="${product.name}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 4px;"></td>
                </tr>
            `;
        });

        tableHTML += `</tbody></table>`;
        return tableHTML;

    } catch (error) {
        console.error('Error fetching Product:', error.message);
        return `<p class="error-message">Could not load products. Please check your Supabase setup and RLS policy.</p>`;
    }
}


// --- 3. TOGGLE LOGIC (Remains Correct) ---
document.addEventListener('DOMContentLoaded', () => {
    const toggleLinks = document.querySelectorAll('.market-toggle');
    
    toggleLinks.forEach(link => {
        link.addEventListener('click', async function(event) {
            event.preventDefault();
            
            // 1. Get all related elements
            const marketCard = this.closest('.market-card');
            const container = marketCard.querySelector('.market-content');
            const icon = this.querySelector('.toggle-icon');
            const marketIdentifier = this.dataset.marketIdentifier;

            const isCurrentlyVisible = container.classList.contains('visible-products');

            if (isCurrentlyVisible) {
                // --- CLOSING LOGIC ---
                container.classList.remove('visible-products');
                container.classList.add('hidden-products');
                icon.classList.remove('rotated');
                
            } else {
                // --- OPENING LOGIC (FETCH DATA) ---
                container.innerHTML = `<p class="placeholder-text">Loading products...</p>`;
                container.classList.remove('hidden-products');
                container.classList.add('visible-products');
                icon.classList.add('rotated');
                
                // Fetch the data and wait for it
                const contentHTML = await fetchAndRenderProducts(marketIdentifier);
                
                // Insert the final content
                container.innerHTML = contentHTML;
            }
        });
    });
});
</script>

</body>
</html>
